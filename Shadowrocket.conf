# Shadowrocket配置文件,解决DNS泄露

[General]
bypass-system = true
skip-proxy = 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, localhost, *.local, captive.apple.com
tun-excluded-routes = 10.0.0.0/8, 100.64.0.0/10, 127.0.0.0/8, 169.254.0.0/16, 172.16.0.0/12, 192.0.0.0/24, 192.0.2.0/24, 192.88.99.0/24, 192.168.0.0/16, 198.51.100.0/24, 203.0.113.0/24, 224.0.0.0/4, 255.255.255.255/32, 239.255.255.250/32
dns-server = system
ipv6 = false
prefer-ipv6 = false
dns-fallback-system = false
dns-direct-system = false
icmp-auto-reply = true
always-reject-url-rewrite = false
private-ip-answer = true
dns-direct-fallback-proxy = true

[Rule]
# 直连
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/LocalAreaNetwork.list,DIRECT
RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/UnBan.list,DIRECT
# 规则修正
RULE-SET,https://raw.githubusercontent.com/ddgksf2013/Filter/master/Unbreak.list,DIRECT

# 自定义
# - 微信
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/WeChat/WeChat.list,DIRECT
# - 全球加速
RULE-SET,https://raw.githubusercontent.com/ConnersHua/RuleGo/master/Surge/Ruleset/Proxy.list,PROXY

# 中国大陆
# - 大陆网站
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/China/China.list,DIRECT
DOMAIN-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/China/China_Domain.list,DIRECT
# - 大陆媒体
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/ChinaMedia/ChinaMedia.list,DIRECT

# 隐私保护
RULE-SET,https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Shadowrocket/Hijacking/Hijacking.list,DIRECT

# 中国大陆IP
# RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaCompanyIp.list,DIRECT
# RULE-SET,https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaIp.list,DIRECT

# 银行
DOMAIN-SUFFIX,95599.cn,DIRECT
DOMAIN-SUFFIX,abchina.com,DIRECT
DOMAIN-SUFFIX,bscabank.com,DIRECT
DOMAIN-SUFFIX,openaboc.cn,DIRECT
DOMAIN-SUFFIX,openaboc.com,DIRECT
DOMAIN-SUFFIX,openaboc.com.cn,DIRECT

# 其他
GEOIP,CN,DIRECT,no-resolve
FINAL,PROXY

[Host]
localhost = 127.0.0.1

[URL Rewrite]
^https?://(www.)?g.cn https://www.google.com 302
^https?://(www.)?google.cn https://www.google.com 302

# 需要手动添加模块
# 去广告(严格版) -> https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rewrite/Shadowrocket/AdvertisingLite/AdvertisingLite.sgmodule

[Script]

[MITM]
hostname = *.googlevideo.com, *.google.cn, -*.apple.com, -consumer.fcbox.com, -*huami.com, -weather-data.apple.com, -*amemv.com, -*snssdk.com, -www.google.com
ca-passphrase = Shadowrocket
ca-p12 = MIIIjgIBAzCCCFUGCSqGSIb3DQEHAaCCCEYEgghCMIIIPjCCBwcGCSqGSIb3DQEHBqCCBvgwggb0AgEAMIIG7QYJKoZIhvcNAQcBMBwGCiqGSIb3DQEMAQYwDgQIMFB3d7wGviUCAggAgIIGwB8wCSeJlwLk+Buzq76ReBmv5RbkByOuYUBmza+014Yx1Up9zBfNqqn0uAY6hMxSdJuelZqkli4DETcyoU5eyoMsT9Z2mkJg4ubvMk3/GOrYEWTuL76QisuheDtZreIt+7FI7MaFGKLQUfG911AKKYP9Nwnq4rGzhic65z1hyHQfsgIyHmZ16ZLz3MZ1vLl51zydu+vuAnpCnPpNcaRoz6tkr4xtC0a+8flS7bzPsdZ3U7OXe/W9MQZs9tLD9S03oftFxlbtQXqsi+Au3Ipf89hO5NDwGWuLLZztSSRF9YrGpGSYI2MPHQYwkA/jHnrmK82l/pYDcRqAW/CLOmnVoMnkVSSHP745wlOUEOwZHtJzjGVNkTNO2+ZQFOFctq/nfCwk9SKN2uw87TV97zThkIazkYdyBkfYCyxqOH+Ri/fY+lP0yGLyKJVo7vfVjsGDpvEGPCjw8i1bizsNy5SghZISR5DIhFygGnkzUWiM+VixIcyuBBQI3tW/uKurygLGbumsZOLR5xBTpYux9M71HM76xRVT9wzVyO6Dds0dvK9O67gHSFl1/73GgNbnK9fp27L8YlCb5kqUL0IZ/xiUDewdngBtHB1Af52glZ60ihcMVNp86/70fw8PjoJw0lmXC9CgENEMG056ISIxWdo3WbgBp4f1R8N8e8IF0Yd20FJzd1CqMAesa5gK5QJRaCHd340W39Uy4t+iteVuw94S80+K0JCLfdiez/maVSotocvEEJa2zoTEiMyd9Vgni1MeoQHbjLCnmCGh14uUgxAHN79M8XdWREjLibsf6AvqlgRU48coujWBUITrH2U6q/Ufu3qVg6boH2BQr8f18lZs5QYPkiRgN2YtNaa3EJn/xAq/zlhCSXxNOHJYvHrqpSN9KLPWjL/OuZRHc6s8d5CEYooK5RlrR+zPUAiRQc91FSsI5J5hCQE2lViPm7nCfuAHRGDggIe9jMW+AoRMp/7RtbyolT5Adpflma9DsFFir3lDpAcGOipQAy+9OpYaPRK+TDlTPA2b5UjxWhhHgyCy+zlACedrS4PUsBAWgXAYdPROLe5U2XxgxupoYILQdwvKcTlp732Y9qOsG3nC1+Gxr17sQwUwR0TYl4HPajhcSkT2EmMZ2nIM4C/6Y2VPNJaEECqsHvo+eIqIdC4qu33JeMIzD1V1/Cyn+NR/PhH/0HOIvk/zTr0pzND57bcIw98z+Ht5h5nMLr5Zrtt8vpdiJ1HY3LykW4nYyh6KH0flbZyuTgAfO7M7JYC95QP+n10iaW4hj013mMgTGUyyDOauqoHO44G533u+RXYodPy0RkEoJlaTFBXgKDdfggnsV9uKJfO49x4u3DwqoYqFik9ct0YL/4y1OwR4ODcjsKHeieY6Qi6GynVUc1rCHRZX396W8fzr3QF/CKvIH0KkuuiYKwQ4JyoFminfrht8OtV3NeAeJCujSzL7JIY1kfupv5o8E6AdmleSqlvkd3lQZNyeZ68y5W+qDeZG1Y0UTYQ2KD9MUFsG8fFYdeGqqenXJmUTgqwABtusLB5z2dsgA2qTuI1PJs7xVVooJxt6xXhWWXr6cMRUcy8lKkeIW1v/hRenw1M4nu5D0X5Oo7VuHw3DoVxO7OcWzr+Dwo5uKALV9NoZUhknTdeqVkfzd9S56k/NAbf2IzmqRFfE5NvdQOzqgwwvdkUOwlHbvPB0HPblxbqj9qsxUsueVTAz2ELVt2pRXSLF+/YkV2EJtlmvjJEgpB9J4Qz89v4+K9n6C09RB3SFQGSKGNZl7vZTRMqLZW81/VUMy4mzpwDABrRrAp1E6BtMZNG7FcRhqlj4TosqkmqWBr+TSVb+1DXBUzs095TOD6YWrYWEkNZCznk92LtKWnXpytYGtdEJniRrBX27UGpmOin9oucxuP6TAeoJlhMQRtr5Gm488KrBbecui6q5D5CwCFp9MkomgezCZGHcbdnnQEsX9r5ZehApu2AJzGl0cQUCa3qgJ8wzcFP50m/4S+eklitznpUkJqDAVZODEcdSzRJB5wVAuoN8iBzfHDhiadwPPvOqAfyl3RmidbD+8CfuJeqclUkSI3E0lfcw7UVGpn0xGuhvtKNaNYrAgljDPHwm5R6g7s5WdOwD43tcrsVOFLa1WGYFI8Gaw6w7H3nE/sS/BpvfrTwuj4zpNp6p6vnqwJUaqHQ/YiprXpT2MkQ/mqyoWH1QiH4WTK8a8ytb576eOcvKePoxoljqfu2gCSNzENBHjcyA4x6CEwKlqVGp0NBDS00AzC8COSqhXKv6HGlH6/AEeFZa57RYsESfgTCCAS8GCSqGSIb3DQEHAaCCASAEggEcMIIBGDCCARQGCyqGSIb3DQEMCgECoIG0MIGxMBwGCiqGSIb3DQEMAQMwDgQIFR+a47X+RTQCAggABIGQqiWlSPbYJxGQeUEzGrwWRvtG9y6T9jg5VmJKuyYyNBj+L1BwdKggCieAfLR7PPsqdOyHu45CNcv4+7sB784ZwYFnZHE0d49cUelie7uGCSzgRreywDUMXWDu6Mj0WNR8nx6X+hqWpHwX6ll2aMgRP4DDMOKvUMHV3OsGYSnF0T3v4PttEdAoNJ2mHI5q+vDAMU4wIwYJKoZIhvcNAQkVMRYEFA/2XMUp+sO2WLcLFKbwY606hQ1hMCcGCSqGSIb3DQEJFDEaHhgAUwBoAGEAZABvAHcAcgBvAGMAawBlAHQwMDAhMAkGBSsOAwIaBQAEFLflH4P+BAz+KLXSaOZxSs5saIFVBAh78fYgs7JhQwIBAQ==
enable = true